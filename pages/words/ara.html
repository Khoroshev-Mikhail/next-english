<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div id="wrapper">
        <h1>Speech Synthesis - Player</h1>
        <label
          >Text:
          <textarea id="textarea">Привет! Как дела?</textarea>
        </label>
        <label
          >Voice:
          <select id="select"></select>
        </label>
        <label
          >Volume:
          <input id="volume" type="range" min="0" max="1" step="0.1" value="1" />
          <span>1</span>
        </label>
        <label
          >Rate:
          <input id="rate" type="range" min="0" max="3" step="0.5" value="1" />
          <span>1</span>
        </label>
        <label
          >Pitch:
          <input id="pitch" type="range" min="0" max="2" step="0.5" value="1" />
          <span>1</span>
        </label>
        <div id="buttons">
          <button class="speak">Speak</button>
          <button class="cancel">Cancel</button>
          <button class="pause">Pause</button>
          <button class="resume">Resume</button>
        </div>
      </div>
    
    <script type="text/javascript">
        function populateVoices(voices) {
            // Перебираем голоса и создаем элемент `option` для каждого
            // Текстовым содержимым `option` является название голоса, а значением - индекс голоса в массиве голосов
            voices.forEach((voice, index) => {
                select.options[index] = new Option(voice.name, index)
            })

            // Делаем голосом по умолчанию `Google русский`
            // Он нравится мне больше, чем голос от `Microsoft`
            const defaultVoiceIndex = voices.findIndex(
                (voice) => voice.name === 'Google русский'
            )
            select.selectedIndex = defaultVoiceIndex
                // После этого инициализируем обработчики событий
            initializeHandlers()
        }
          const U = new SpeechSynthesisUtterance()
          let voices = speechSynthesis.getVoices()
          speechSynthesis.onvoiceschanged = () => {
            voices = speechSynthesis.getVoices()
            populateVoices(voices)
          console.log(voices)
        }
    </script>
</body>
</html>